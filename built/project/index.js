define(["require","exports","module","lodash","lowercase-backbone","q","./__archetypo-view/methods/register","./__archetypo-view/methods/render","./__archetypo-view/methods/build-sub-views"],function(e,t,n){var r=e("lodash"),i=e("lowercase-backbone"),s=e("q");n.exports=i.view.extend({initialize:function(t){i.view.prototype.initialize.call(this,t),this.initializeArchetypoView(t)},initializeArchetypoView:function(t){t=t||{},this.app=t.app;var n=this.render(t);this.register(t),s.isPromise(n)?n.then(r.partial(r.bind(this.build,this),t)):this.build(t)},register:e("./__archetypo-view/methods/register"),render:e("./__archetypo-view/methods/render"),build:e("./__archetypo-view/methods/build-sub-views"),subviews:function(t){return r.isString(t)?this.registry.descendantItems({id:t}).take(1).toArray()[0]:this.registry.descendantItems(t)}})});